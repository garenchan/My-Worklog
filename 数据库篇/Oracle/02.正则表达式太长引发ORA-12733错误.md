# 正则表达式太长引发ORA-12733错误


## 问题描述

1. 假设有个user表，还有个tag表，每个user可以有一些tag，在user表有个tag_id用于存放
这对关系，当用户有多个tag时使用逗号进行连接(为什么要这样设计不是本文的重点)

2. 现在要通过tag反查user，且可以包含多个tag，那么怎么实现呢？(抛开使用各种索引)

3. 很容易想到使用正则表达式进行匹配：`regexp_like(tag_id, 'your regexp')`，你的正则
表达式长度和你所选的tag数量是成正比的，当所选tag过多时，就会引发Oracle的错误：

    **ORA-12733: 正则表达式太长**


## 问题原因

使用的正则表达式超过了支持的最大长度。


## 解决办法

1. 将长的regexp进行拆分，然后使用多个regexp_like的逻辑或表达式进行替代

2. 看能否对Oracle的正则表达式最大长度进行设置
