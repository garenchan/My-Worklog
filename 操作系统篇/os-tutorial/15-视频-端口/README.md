# 视频-端口


## 概念

I/O端口


## 目标

**了解如何使用VGA卡的数据端口**


## 端口

我们将使用C通过I/O寄存器和端口与设备通信。

打开`drivers/ports.c`并检查内联c汇编语法。它有一些不同之处，比如源操作数和目标操
作数的顺序，以及为操作数分配变量的有趣语法。

当你理解了这些概念后，打开`kernel/kernel.c`作为一个使用的示例。

在本例中，我们将检查映射屏幕光标位置的I/O端口。具体来说，我们将使用值`14`查询端口
`0x3d4`，以请求游标位置的高字节，而用值`15`查询低字节。

当查询此端口时，它将结果保存在端口`0x3d5`中。

不要错过使用`gdb`检查C变量值的机会，因为我们仍然不能在屏幕上打印它们。为此，要为
指定的行设置断点即`b kernel.c:21`，然后使用`print`命令检查变量。难道你现
在还不会为我们花了一些时间来编译交叉编译的gdb而感到高兴吗？

最后，我们将使用查询到的游标位置在该位置写入字符。
